document.addEventListener("DOMContentLoaded",function(){let e="https://511on.ca/api/v2/get/";var t,n=document.querySelector(".results"),a=document.getElementById("typeofsearch"),d=document.querySelector(".search"),l=document.getElementById("areas-option"),o=0;function c(e){document.querySelector(".results-header").innerHTML="";let t=document.createElement("h2");t.style.color="Black",t.style.width="700px",t.style.textAlign="Center",t.style.borderRadius="10%",t.style.fontSize="25px",e>0?(t.textContent=`Displaying all information found ... (${e}) found`,t.style.textAlign="Center"):(t.textContent="NO DATA AVAILABLE",t.style.backgroundColor="ORANGE"),document.querySelector(".results-header").appendChild(t)}a.addEventListener("change",function(n){let d;let o=n.target.value;if("Constructions"===o?d=`${e}constructionprojects`:"Cameras"===o&&(d=`${e}cameras`),d){var c=new XMLHttpRequest;c.open("GET",d),c.responseType="json",c.onload=function(){(function(e){let t=document.getElementById("areas-option"),n=a.value;if("Cameras"===n){l.textContent="",l.selectedIndex=0;for(let n=0;n<e.length;n++){if(0===n){let e=document.createElement("option");e.textContent="-- Select Area --",t.appendChild(e)}let a=!0;for(let t=n+1;t<e.length;t++){let d=e[n].Roadway.replace(/-/g,""),l=e[t].Roadway.replace(/-/g,"");if(d.replace(/\s/g,"")===l.replace(/\s/g,"")){a=!1;break}}if(a&&"Enabled"===e[n].Views[0].Status){let a=document.createElement("option");a.value=e[n].Roadway,a.textContent=e[n].Roadway,t.appendChild(a)}}}else if("Constructions"===n){l.textContent="",l.selectedIndex=0,document.querySelector(".results-header").innerHTML="",document.querySelector(".results").innerHTML="";for(let n=0;n<e.length;n++){if(0===n){let e=document.createElement("option");e.textContent="-- Select Area --",t.appendChild(e)}let a=!0;for(let t=n+1;t<e.length;t++){let d=e[n].Roadway.replace(/-/,""),l=e[t].Roadway.replace(/-/,"");if(d===l||"40"===d){a=!1;break}}if(a){let a=document.createElement("option");2!==e[n].Roadway.length&&3!==e[n].Roadway.length&&isNaN(e[n].Roadway)?(a.value=e[n].Roadway,a.textContent=e[n].Roadway):(a.value=`Highway ${e[n].Roadway}`,a.textContent=`Highway ${e[n].Roadway}`),t.appendChild(a)}}}})(t=c.response)},c.send()}l.selectedIndex=0}),document.getElementById("submit").addEventListener("click",function(){l.selectedIndex=0;let e=d.value,s=a.value;o=0,n.innerHTML="";for(let a=0;a<t.length;a++)if("Cameras"===s&&"Enabled"===t[a].Views[0].Status&&t[a].Views[0].Description.toLowerCase().includes(e.toLowerCase())&&""!==e){let e=document.createElement("div");e.classList.add("allCards"),o++;let l=document.createElement("div"),c=t[a].Views,s=document.createElement("div");s.classList.add("card");let i=document.createElement("h2");i.classList.add("header-camera"),i.textContent=t[a].Views[0].Description,s.appendChild(i),c.forEach(e=>{let t=document.createElement("img");t.src=e.Url,s.appendChild(t),l.appendChild(s)}),e.appendChild(l),n.appendChild(e),d.value=""}else if("Constructions"===s&&(t[a].Roadway.toLowerCase().includes(e.toLowerCase())||t[a].Description.toLowerCase().includes(e.toLowerCase()))&&""!==e&&(t[a].Description!==t[a+1]?.Description||t[a].Description.toLowerCase().includes(e.toLowerCase()))){console.log(t[a]);let l=document.createElement("div");l.classList.add("allCardsConstruction"),o++;let c=document.createElement("div");c.classList.add("card-box");let s=document.createElement("div");s.classList.add("construction-card");let i=document.createElement("h2");i.classList.add("header-construction"),i.textContent=t[a].Roadway;let r=document.createElement("p");r.classList.add("direction-construction"),r.textContent=`Direction: ${t[a].DirectionOfTravel}`,i.appendChild(r),s.appendChild(i);let u=document.createElement("p");u.classList.add("date-construction"),u.textContent=`Date: ${t[a].Comment}`,s.appendChild(u);let p=document.createElement("p");p.classList.add("descript-construction"),p.innerHTML=t[a].Description.replace(RegExp("\\d+\\s*minutes|"+e,"gi"),e=>e.toLowerCase().includes("minutes")?`<span style="background-color: yellow; font-weight: bolder">${e}</span>`:`<span style="font-weight: bolder">${e}</span>`),s.appendChild(p),l.appendChild(s),n.appendChild(l),d.value=""}c(o)}),document.getElementById("submit").addEventListener("click",function(){d.value=""}),l.addEventListener("change",function(){let e=a.value,s=l.value;o=0,s=s.replace(/-/g,""),n.innerHTML="",document.querySelector(".results-header").innerHTML="";for(let a=0;a<t.length;a++){let l=document.createElement("div");l.classList.add("allCards");let c=t[a].Roadway.replace(/-/,"");if("Cameras"===e&&"Enabled"===t[a].Views[0].Status&&c.includes(s)){let e=document.createElement("div");o++;let d=t[a].Views,c=document.createElement("div");c.classList.add("card");let s=document.createElement("h2");s.classList.add("header-camera"),s.textContent=t[a].Views[0].Description,c.appendChild(s),d.forEach(t=>{let n=document.createElement("img");n.src=t.Url,c.appendChild(n),e.appendChild(c)}),l.appendChild(e),n.appendChild(l)}else if("Constructions"===e&&c.includes(s)){let e=document.createElement("div");e.classList.add("allCardsConstruction"),o++;let l=document.createElement("div");l.classList.add("card-box");let c=document.createElement("div");c.classList.add("construction-card");let s=document.createElement("h2");s.classList.add("header-construction"),s.textContent=t[a].Roadway;let i=document.createElement("p");i.classList.add("direction-construction"),i.textContent=`Direction: ${t[a].DirectionOfTravel}`,s.appendChild(i),c.appendChild(s);let r=document.createElement("p");r.classList.add("date-construction"),r.textContent=`Date: ${t[a].Comment}`,c.appendChild(r);let u=document.createElement("p");u.classList.add("descript-construction"),u.innerHTML=t[a].Description.replace(RegExp("\\d+\\s*minutes|","gi"),e=>`<span style="background-color: yellow; font-weight: bolder">${e}</span>`),c.appendChild(u),e.appendChild(c),n.appendChild(e),d.value=""}}c(o)})});//# sourceMappingURL=index.0cfe4a51.js.map

//# sourceMappingURL=index.0cfe4a51.js.map
